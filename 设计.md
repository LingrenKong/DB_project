# 大作业设计

设计文档
* 前言
* 业务描述
* 数据库设计（ER图）
* 应用系统模块设计、以及功能点描述
* 系统实现描述
* 总结
* 参考文献和资料

## 前言

本作业旨在完成一个图书管理系统，从而实践学习到的数据库知识

## 业务描述

实现一个学校图书馆管理系统，包含
* 管理学生和老师（管理借阅者），并提供状态展示
* 管理已有图书，并提供状态展示
* 实现借阅与归还的操作

## 数据库设计（ER图）

### ER图







### 解释

包含2个实体和1个联系：

* 实体：
  * 借阅者：id（学生教师号）、姓名、密码、用户类型、在借书数目、备注、是否被禁用
  * 图书：id（书号）、书名、简介、类型、作者、出版社、价格、数量、备注、是否下架
* 联系：
  * 借阅：借出时间、借阅期限、归还时间、状态、备注



## 应用系统模块设计、功能点描述

功能整体分为两块：读者的操作（借书还书等）、管理员的操作（查看/修改-图书/借阅数据）

读者操作：

* 注册
* 借阅操作（此处操作认为在网页点击即可借还）：
  * 借书
  * 还书
  * 续借
* 注销

管理操作：

* 信息查阅
* 图书管理
  * 购入
  * 下架



## 系统描述实现

### 数据库配置

```mssql
CREATE TABLE user(
    id char(11) PRIMARY KEY,
    name nvarchar(10) NOT NULL,
    password nvarchar(20) NOT NULL,
    type nvarchar(10),
    get int NOT NULL,
    more nvarchar(2000),
    restrict bit NOT NULL
)
```

```mssql
CREATE TABLE book(
    id char(10) PRIMARY KEY,
    name nvarchar(100) NOT NULL,
    brief nvarchar(300) NOT NULL,
    type nvarchar(20),
    author nvarchar(100) NOT NULL,
    Press nvarchar(100) NOT NULL,
    price numeric(5,2)NOT NULL,
    num int,
    more nvarchar(2000),
    removed bit NOT NULL
)
```

```mssql
CREATE TABLE borrow(
    id int PRIMARY KEY,
    user char(11),
    book char(10),
    outDate date NOT NULL,
    maxtime int NOT NULL,
    returnDate date NOT NULL,
    type nvarchar(10),
    more nvarchar(2000),
    FOREIGN KEY (user) REFERENCES user(id) 
    ON DELETE CASCADE
    ON UPDATE CASCADE,
    FOREIGN KEY (book) REFERENCES book(id) 
    ON DELETE CASCADE
    ON UPDATE CASCADE,  
)
```





### 网页模板设计

### 初始数据


首先随机生成一些学生（借阅者）


然后随机生成一批图书

### 功能测试

## 总结

## 参考文献和资料

https://docs.microsoft.com/zh-cn/sql/relational-databases/tables/create-foreign-key-relationships?view=sql-server-ver15
创建外键关系

https://www.qqxiuzi.cn/zh/xingming/姓名生成器

https://wenku.baidu.com/view/7c474d6491c69ec3d5bbfd0a79563c1ec4dad70d.html一份其他人的设计文档